import matplotlib.pyplot as plt

coefs = []
listx1 = []
listx2 = []
listy1 = []
listy2 = []

def fun(i):
    if(i == len(listx2) - 1):
        i = i - 1
    a = coefs[i][0]
    b = coefs[i][1]
    return a * listx2[i] + b

def load_data():
    global coefs, listx1, listx2, listy1, listy2

    coefs = [[61.666666666666664, 194.0, 3.0],[-27.0, 460.0, 4.0],[-136.0, 896.0, 5.0],[137.0, -469.0, 6.0],[9.0, 299.0, 7.0],[-118.0, 1188.0, 8.0],[43.0, -100.0, 9.0],[-19.0, 458.0, 10.0],[134.0, -1072.0, 11.0],[-112.0, 1634.0, 12.0],[15.0, 110.0, 13.0],[-26.0, 643.0, 14.0],[-2.5, 314.0, 16.0],[26.0, -142.0, 17.0],[23.0, -91.0, 18.0],[-12.0, 539.0, 19.0],[-9.0, 482.0, 20.0],[28.0, -258.0, 21.0],[10.0, 120.0, 22.0],[13.0, 54.0, 23.0],[-189.0, 4700.0, 24.0],[31.5, -592.0, 30.0],[-187.0, 5963.0, 31.0],[24.0, -578.0, 33.0],[-4.333333333333333, 357.0, 36.0],[12.333333333333334, -243.0, 39.0],[-4.4, 409.6, 44.0],[5.722222222222222, -35.77777777777778, 62.0],[-159.5, 10208.0, 64.0],[102.0, -6528.0, 67.0],[-12.0, 1110.0, 68.0],[-147.0, 10290.0, 70.0],[129.33333333333334, -9053.333333333334, 73.0],[-388.0, 28712.0, 74.0],[164.5, -12173.0, 76.0],[-329.0, 25333.0, 77.0],[204.5, -15746.5, 79.0],[-409.0, 32720.0, 80.0],[188.5, -15080.0, 82.0],[-377.0, 31291.0, 83.0],[202.5, -16807.5, 85.0],[-405.0, 34830.0, 86.0],[213.0, -18318.0, 88.0],[-426.0, 37914.0, 89.0],[421.0, -37469.0, 90.0],[-421.0, 38311.0, 91.0],[436.0, -39676.0, 92.0],[-436.0, 40548.0, 93.0],[220.0, -20460.0, 95.0],[-440.0, 42240.0, 96.0],[428.0, -41088.0, 97.0],[-428.0, 41944.0, 98.0],[434.0, -42532.0, 99.0],[-434.0, 43400.0, 100.0],[483.0, -48300.0, 101.0],[-483.0, 49266.0, 102.0],[524.0, -53448.0, 103.0],[-524.0, 54496.0, 104.0],[516.0, -53664.0, 105.0],[-516.0, 54696.0, 106.0],[474.0, -50244.0, 107.0],[-474.0, 51192.0, 108.0],[557.0, -60156.0, 109.0],[-557.0, 61270.0, 110.0],[517.0, -56870.0, 111.0],[-517.0, 57904.0, 112.0],[459.0, -51408.0, 113.0],[-459.0, 52326.0, 114.0],[524.0, -59736.0, 115.0],[-524.0, 60784.0, 116.0],[538.0, -62408.0, 117.0],[-538.0, 63484.0, 118.0],[576.0, -67968.0, 119.0],[-576.0, 69120.0, 120.0],[549.0, -65880.0, 121.0],[-549.0, 66978.0, 122.0],[-0.0, -0.0, 123.0],[584.0, -71832.0, 124.0],[-584.0, 73000.0, 125.0],[547.0, -68375.0, 126.0],[-547.0, 69469.0, 127.0],[576.0, -73152.0, 128.0],[-576.0, 74304.0, 129.0],[582.0, -75078.0, 130.0],[-582.0, 76242.0, 131.0],[-0.0, -0.0, 132.0],[579.0, -76428.0, 133.0],[-579.0, 77586.0, 134.0],[-0.0, -0.0, 135.0],[591.0, -79785.0, 136.0],[-591.0, 80967.0, 137.0],[552.0, -75624.0, 138.0],[-552.0, 76728.0, 139.0],[-0.0, -0.0, 140.0],[623.0, -87220.0, 141.0],[-623.0, 88466.0, 142.0],[601.0, -85342.0, 143.0],[-601.0, 86544.0, 144.0],[632.0, -91008.0, 145.0],[-632.0, 92272.0, 146.0],[-0.0, -0.0, 147.0],[614.0, -90258.0, 148.0],[-614.0, 91486.0, 149.0],[628.0, -93572.0, 150.0],[-628.0, 94828.0, 151.0],[-0.0, -0.0, 152.0],[661.0, -100472.0, 153.0],[-661.0, 101794.0, 154.0],[-0.0, -0.0, 155.0],[687.0, -106485.0, 156.0],[-687.0, 107859.0, 157.0],[645.0, -101265.0, 158.0],[-645.0, 102555.0, 159.0],[-0.0, -0.0, 160.0],[684.0, -109440.0, 161.0],[-684.0, 110808.0, 162.0],[-0.0, -0.0, 163.0],[632.0, -103016.0, 164.0],[-632.0, 104280.0, 165.0],[-0.0, -0.0, 166.0],[750.0, -124500.0, 167.0],[-750.0, 126000.0, 168.0],[677.0, -113736.0, 169.0],[-677.0, 115090.0, 170.0],[-0.0, -0.0, 171.0],[687.0, -117477.0, 172.0],[-687.0, 118851.0, 173.0],[-0.0, -0.0, 174.0],[712.0, -123888.0, 175.0],[-712.0, 125312.0, 176.0],[-0.0, -0.0, 177.0],[653.0, -115581.0, 178.0],[-653.0, 116887.0, 179.0],[-0.0, -0.0, 180.0],[713.0, -128340.0, 181.0],[-713.0, 129766.0, 182.0],[-0.0, -0.0, 183.0],[714.0, -130662.0, 184.0],[-714.0, 132090.0, 185.0],[-0.0, -0.0, 186.0],[615.0, -114390.0, 187.0],[-615.0, 115620.0, 188.0],[-0.0, -0.0, 189.0],[786.0, -148554.0, 190.0],[-786.0, 150126.0, 191.0],[-0.0, -0.0, 192.0],[698.0, -134016.0, 193.0],[-698.0, 135412.0, 194.0],[-0.0, -0.0, 195.0],[642.0, -125190.0, 196.0],[-642.0, 126474.0, 197.0],[-0.0, -0.0, 198.0],[718.0, -142164.0, 199.0],[-718.0, 143600.0, 200.0],[-0.0, -0.0, 201.0],[733.0, -147333.0, 202.0],[-733.0, 148799.0, 203.0],[-0.0, -0.0, 204.0],[672.0, -137088.0, 205.0],[-672.0, 138432.0, 206.0],[-0.0, -0.0, 207.0],[668.0, -138276.0, 208.0],[-668.0, 139612.0, 209.0],[-0.0, -0.0, 210.0],[628.0, -131880.0, 211.0],[-628.0, 133136.0, 212.0],[-0.0, -0.0, 213.0],[732.0, -155916.0, 214.0],[-732.0, 157380.0, 215.0],[-0.0, -0.0, 216.0],[676.0, -146016.0, 217.0],[-676.0, 147368.0, 218.0],[-0.0, -0.0, 219.0],[620.0, -135780.0, 220.0],[-620.0, 137020.0, 221.0],[586.0, -129506.0, 222.0],[-586.0, 130678.0, 223.0],[-0.0, -0.0, 224.0],[593.0, -132832.0, 225.0],[-593.0, 134018.0, 226.0],[565.0, -127690.0, 227.0],[-565.0, 128820.0, 228.0],[-0.0, -0.0, 229.0],[594.0, -136026.0, 230.0],[-594.0, 137214.0, 231.0],[509.0, -117579.0, 232.0],[-509.0, 118597.0, 233.0],[-0.0, -0.0, 234.0],[547.0, -127998.0, 235.0],[-547.0, 129092.0, 236.0],[486.0, -114696.0, 237.0],[-486.0, 115668.0, 238.0],[478.0, -113764.0, 239.0],[-478.0, 114720.0, 240.0],[445.0, -106800.0, 241.0],[-445.0, 107690.0, 242.0],[-0.0, -0.0, 244.0],[183.5, -44774.0, 246.0],[-367.0, 90649.0, 247.0],[87.66666666666667, -21653.666666666668, 250.0],[-33.0, 8513.0, 251.0],[-13.0, 3493.0, 252.0],[-35.0, 9037.0, 253.0],[-31.5, 8151.5, 255.0]]

    listx2 = [0]
    for array in coefs:
        listx2.append(array[2])
    listy2 = [fun(i) for i in range(0, len(listx2))]

    listx1 = [i for i in range(0,256)]
    listy1 = [194, 391, 370, 379, 352, 216, 353, 362, 244, 287, 268, 402, 290, 305, 279, 478, 274, 300, 323, 311, 302, 330, 340, 353, 164, 330, 358, 203, 338, 346, 353, 166, 415, 214, 396, 231, 201, 413, 222, 238, 475, 224, 252, 237, 216, 463, 228, 253, 268, 259, 285, 196, 290, 285, 267, 314, 286, 304, 322, 282, 286, 314, 319, 304, 0, 321, 308, 306, 294, 341, 0, 331, 333, 388, 0, 360, 329, 0, 371, 409, 0, 397, 377, 0, 420, 405, 0, 387, 426, 0, 421, 0, 436, 0, 457, 440, 0, 428, 0, 434, 0, 483, 0, 524, 0, 516, 0, 474, 0, 557, 0, 517, 0, 459, 0, 524, 0, 538, 0, 576, 0, 549, 0, 0, 584, 0, 547, 0, 576, 0, 582, 0, 0, 579, 0, 0, 591, 0, 552, 0, 0, 623, 0, 601, 0, 632, 0, 0, 614, 0, 628, 0, 0, 661, 0, 0, 687, 0, 645, 0, 0, 684, 0, 0, 632, 0, 0, 750, 0, 677, 0, 0, 687, 0, 0, 712, 0, 0, 653, 0, 0, 713, 0, 0, 714, 0, 0, 615, 0, 0, 786, 0, 0, 698, 0, 0, 642, 0, 0, 718, 0, 0, 733, 0, 0, 672, 0, 0, 668, 0, 0, 628, 0, 0, 732, 0, 0, 676, 0, 0, 620, 0, 586, 0, 0, 593, 0, 565, 0, 0, 594, 0, 509, 0, 0, 547, 0, 486, 0, 478, 0, 445, 0, 395, 0, 435, 367, 0, 324, 298, 263, 230, 217, 182, 335, 119]

def show_graph():
    fig, axes = plt.subplots(figsize=(45,25))

    axes.bar(listx1, listy1)
    axes.plot(listx2,listy2, color = "red", linewidth = 2)

    axes.set_xlabel('Intensity value')
    axes.set_ylabel('Count')
    axes.set_title('Histogram')

    plt.show()

def main():
    load_data()
    show_graph()

if __name__ == "__main__":
    main()